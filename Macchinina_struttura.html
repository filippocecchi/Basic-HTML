<html>
  <head>       
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Es</title>     
			<script language="javascript">	
				
				var dim=20, x;
				var t="";
				var pos=[0,0];
				var dir=[0,1];
				function creaPista()
				{	
					for(var i=0;i<dim;i++)
					{
						t=t+"<tr>";
						for(var j=0;j<dim;j++)
						{
							if(i==0||i==dim-1||j==0||j==dim-1)
							{
								t=t+"<td id='"+i+"_"+j+"' bgcolor='lightgrey'></td>";
							}
							else
							{
								t=t+"<td id='"+i+"_"+j+"' bgcolor='green'></td>";
							}
						}
						t=t+"</tr>";
					}
					document.getElementById("pista").innerHTML=t;
					document.getElementById("0_0").bgColor="red";
					setInterval(muovi,100);
				}
				function muovi()
				{
					document.getElementById(pos[0]+"_"+pos[1]).bgColor="lightgrey";
					pos[0]=pos[0]+dir[0];
					pos[1]=pos[1]+dir[1];
					document.getElementById(pos[0]+"_"+pos[1]).bgColor="red";
					if(pos[0]==0 && pos[1]==dim-1)
					{
						dir[0]=1;
						dir[1]=0;
					}
					if(pos[0]==dim-1 && pos[1]==dim-1)
					{
						dir[0]=0;
						dir[1]=-1;
					}
					if(pos[0]==dim-1 && pos[1]==0)
					{
						dir[0]=-1;
						dir[1]=0;
					}
					if(pos[0]==0 && pos[1]==0)
					{
						dir[0]=0;
						dir[1]=1;
					}
				}
			</script>
	</head>
	<body>	
			<input type="button" onclick="creaPista()" value="Prova"/>
			<table id="pista" align="center" width="400" height="400" cellspacing="0">				
			</table>			
</body>
</html>